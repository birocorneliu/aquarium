{% extends 'templates/default.jinja2' %}

 {% block body %}

    <!-- gallery start -->
    <div class="content homepage" id="menu-1">
    <div class="container">
	<div class="row templatemorow">

        <a href="http://raspberry.aquanet.ro/set_procedure/movie" type="button" class="btn btn-primary">Movie Time</a>
        <a href="http://raspberry.aquanet.ro/set_procedure/lights_on" type="button" class="btn btn-primary">Lumini ON</a>
        <a href="http://raspberry.aquanet.ro/set_procedure/lights_off" type="button" class="btn btn-primary">Lumini OFF</a>
        <a href="http://raspberry.aquanet.ro/set_procedure/schimb_apa" type="button" class="btn btn-primary">Schimb Apa</a>
        <a href="http://raspberry.aquanet.ro/set_procedure/reset" type="button" class="btn btn-primary">Reset</a>

    <div class="checkboxes">
      <label class="checkbox">Lampa 865
          <input pin_id="865" type="checkbox" class="ios-switch" checked/></label>
      <label class="checkbox">Lampa 830
          <input pin_id="830" type="checkbox" class="ios-switch" /></label>
      <label class="checkbox">Lampa LED
          <input pin_id="led" type="checkbox" class="ios-switch" /></label>
    </div>
    </div>
    </div>
    <ul>
    <li ng-hide="getSignedInState()" on-click="return false">
                                <a class="btn btn-default btn-lg" ng-click="signIn()">Google+ SignIn</a>
    </li></ul>
    </div>


<script type="text/javascript">
    var switches = document.querySelectorAll('input[type="checkbox"].ios-switch');
    for (var i=0, sw; sw = switches[i++]; ) {
        var div = document.createElement('div');
        div.className = 'switch';
        sw.parentNode.insertBefore(div, sw.nextSibling);
    }

    function set_command(pin_id, status) {
        $.ajax({
            url: "http://raspberry.aquanet.ro/temperature/" + pin_id + "/" + status,
        })
    }

    $(".ios-switch").on("click", function() {
        var root = $(this)
        var pin_id = root.attr("pin_id")
        if (root.hasClass("open")) {
            root.removeClass("open")
            var status = "close"
        } else {
            root.addClass("open")
            var status = "open"
        }
        set_command(pin_id, status)
    })

</script>
 {% endblock %}


